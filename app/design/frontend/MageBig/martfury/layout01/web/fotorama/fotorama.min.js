fotoramaVersion="4.6.4",function(t,n,e,o,i){"use strict";function a(t){var n="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[n]){var e=function(t,n){var e=[null,null],o=[null,null],i=[null,null],a=function(a,r){return i[r]=3*t[r],o[r]=3*(n[r]-t[r])-i[r],e[r]=1-i[r]-o[r],a*(i[r]+a*(o[r]+a*e[r]))},r=function(t){return i[0]+t*(2*o[0]+3*e[0]*t)},s=function(t){for(var n,e=t,o=0;++o<14&&(n=a(e,0)-t,!(Math.abs(n)<.001));)e-=n/r(e);return e};return function(t){return a(s(t),1)}};o.easing[n]=function(n,o,i,a,r){return a*e([t[0],t[1]],[t[2],t[3]])(o/r)+i}}return n}function r(){}function s(t,n,e){return Math.max(isNaN(n)?-(1/0):n,Math.min(isNaN(e)?1/0:e,t))}function u(t,n){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?"vertical"===n?13:12:"vertical"===n?5:4]}function c(t,n){return Ln?+u(t.css("transform"),n):+t.css("vertical"===n?"top":"left").replace("px","")}function l(t,n){var e={};if(Ln)switch(n){case"vertical":e.transform="translate3d(0, "+t+"px,0)";break;case"list":break;default:e.transform="translate3d("+t+"px,0,0)"}else"vertical"===n?e.top=t:e.left=t;return e}function d(t){return{"transition-duration":t+"ms"}}function h(t,n){return isNaN(t)?n:t}function f(t,n){return h(+String(t).replace(n||"px",""))}function m(t){return/%$/.test(t)?f(t,"%"):i}function v(t,n){return h(m(t)/100*n,f(t))}function p(t){return(!isNaN(f(t))||!isNaN(f(t,"%")))&&t}function g(t,n,e,o){return(t-(o||0))*(n+(e||0))}function w(t,n,e,o){return-Math.round(t/(n+(e||0))-(o||0))}function b(){var t,n={transition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(Nn.style[t]!==i)return n[t]}function y(t){var n=t.data();if(!n.tEnd){t[0];B(t[0],b(),function(t){n.tProp&&t.propertyName.match(n.tProp)&&n.onEndFn()}),n.tEnd=!0}}function x(t,n,e,o){var i,a=t.data();a&&(a.onEndFn=function(){i||(i=!0,clearTimeout(a.tT),e())},a.tProp=n,clearTimeout(a.tT),a.tT=setTimeout(function(){a.onEndFn()},1.5*o),y(t))}function _(t,n){var e=t.navdir||"horizontal";if(t.length){var o=t.data();Ln?(t.css(d(0)),o.onEndFn=r,clearTimeout(o.tT)):t.stop();var i=C(n,function(){return c(t,e)});return t.css(l(i,e)),i}}function C(){for(var t,n=0,e=arguments.length;n<e&&(t=n?arguments[n]():arguments[n],"number"!=typeof t);n++);return t}function k(t,n){return Math.round(t+(n-t)/1.5)}function P(){return P.p=P.p||("https:"===e.protocol?"https://":"http://"),P.p}function S(t){var e=n.createElement("a");return e.href=t,e}function T(t,n){if("string"!=typeof t)return t;t=S(t);var e,o;if(t.host.match(/youtube\.com/)&&t.search){if(e=t.search.split("v=")[1]){var i=e.indexOf("&");i!==-1&&(e=e.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be|youtube-nocookie.com/)?(e=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",e=t.pathname.replace(/^\/(\w+\/)*/,"").replace(/\/.*/,""));return e&&o||!n||(e=t.href,o="custom"),!!e&&{id:e,type:o,s:t.search.replace(/^\?/,""),p:P()}}function F(t,n,e){var i,a,r=t.video;return"youtube"===r.type?(a=P()+"img.youtube.com/vi/"+r.id+"/default.jpg",i=a.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.getJSON(P()+"vimeo.com/api/oembed.json",{url:"//vimeo.com/"+r.id},function(o){t.thumbsReady=!0,M(n,{img:o.thumbnail_url,thumb:o.thumbnail_url},t.i,e),console.log(o.thumbnail_url)}):t.thumbsReady=!0,{img:i,thumb:a}}function M(t,n,e,i){for(var a=0,r=t.length;a<r;a++){var s=t[a];if(s.i===e&&s.thumbsReady){var u={videoReady:!0};u[Gn]=u[te]=u[Zn]=!1,i.splice(a,1,o.extend({},s,u,n));break}}}function E(t){function n(t,n,i){var a=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),u=a.attr("src"),c=n.video,l=!!i&&T(r,c===!0);l?r=!1:l=c,e(t,a,o.extend(n,{video:l,img:n.img||r||s||u,thumb:n.thumb||u||s||r}))}function e(t,n,e){var i=e.thumb&&e.img!==e.thumb,a=f(e.width||t.attr("width")),r=f(e.height||t.attr("height"));o.extend(e,{width:a,height:r,thumbratio:K(e.thumbratio||f(e.thumbwidth||n&&n.attr("width")||i||a)/f(e.thumbheight||n&&n.attr("height")||i||r))})}var i=[];return t.children().each(function(){var t=o(this),a=H(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))n(t,a,!0);else{if(t.is(":empty"))return;e(t,null,o.extend(a,{html:this,_html:t.html()}))}i.push(a)}),i}function $(t){return 0===t.offsetWidth&&0===t.offsetHeight}function j(t){return!o.contains(n.documentElement,t)}function z(t,n,e,o){return z.i||(z.i=1,z.ii=[!0]),o=o||z.i,"undefined"==typeof z.ii[o]&&(z.ii[o]=!0),t()?n():z.ii[o]&&setTimeout(function(){z.ii[o]&&z(t,n,e,o)},e||100),z.i++}function q(t,n){var e=t.data(),o=e.measures;if(o&&(!e.l||e.l.W!==o.width||e.l.H!==o.height||e.l.r!==o.ratio||e.l.w!==n.w||e.l.h!==n.h)){var i=s(n.h,0,o.height),a=i*o.ratio;he.setRatio(t,a,i),e.l={W:o.width,H:o.height,r:o.ratio,w:n.w,h:n.h}}return!0}function N(t,n,e,o){return n!==e&&("vertical"===o?t<=n?"top":t>=e?"bottom":"top bottom":t<=n?"left":t>=e?"right":"left right")}function A(t,n,e){e=e||{},t.each(function(){var t,i=o(this),a=i.data();a.clickOn||(a.clickOn=!0,o.extend(it(i,{onStart:function(n){t=n,(e.onStart||r).call(this,n)},onMove:e.onMove||r,onTouchEnd:e.onTouchEnd||r,onEnd:function(e){e.moved||n.call(this,t)}}),{noMove:!0}))})}function I(t,n){return'<div class="'+t+'">'+(n||"")+"</div>"}function L(t){return"."+t}function O(t){var n='<iframe src="'+t.p+t.type+".com/embed/"+t.id+'" frameborder="0" allowfullscreen></iframe>';return n}function D(t){for(var n=t.length;n;){var e=Math.floor(Math.random()*n--),o=t[n];t[n]=t[e],t[e]=o}return t}function R(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function W(t,n,e){t.scrollLeft(n||0).scrollTop(e||0)}function H(t){if(t){var n={};return o.each(t,function(t,e){n[t.toLowerCase()]=e}),n}}function K(t){if(t){var n=+t;return isNaN(n)?(n=t.split("/"),+n[0]/+n[1]||i):n}}function B(t,n,e,o){n&&(t.addEventListener?t.addEventListener(n,e,!!o):t.attachEvent("on"+n,e))}function Q(t,n){return t>n.max?t=n.max:t<n.min&&(t=n.min),t}function V(t,n,e,o,i,a,r){var s,u,c;return"horizontal"===r?(u=t.thumbwidth,c=a.width()):(u=t.thumbheight,c=a.height()),s=(u+t.margin)*(e+1)-t.margin>=c-o?"horizontal"===r?-i.position().left:-i.position().top:(u+t.margin)*e-t.margin<=Math.abs(o)?"horizontal"===r?-i.position().left+c-(u+t.margin):-i.position().top+c-(u+t.margin):o,s=Q(s,n),s||0}function X(t){return!!t.getAttribute("disabled")}function Y(t,n){return n?{disabled:t}:{tabindex:t*-1+"",disabled:t}}function J(t,n){B(t,"keyup",function(e){X(t)||13==e.keyCode&&n.call(t,e)})}function U(t,n){B(t,"focus",t.onfocusin=function(e){n.call(t,e)},!0)}function G(t,n){t.preventDefault?t.preventDefault():t.returnValue=!1,n&&t.stopPropagation&&t.stopPropagation()}function Z(n,e){var o=/ip(ad|hone|od)/i.test(t.navigator.userAgent);o&&"touchend"===e&&n.on("touchend",function(t){qn.trigger("mouseup",t)}),n.on(e,function(t){return G(t,!0),!1})}function tt(t){return t?">":"<"}function nt(t,n){var e=t.data(),i=Math.round(n.pos),a=function(){e&&e.sliding&&(e.sliding=!1),(n.onEnd||r)()};"undefined"!=typeof n.overPos&&n.overPos!==n.pos&&(i=n.overPos);var s=o.extend(l(i,n.direction),n.width&&{width:n.width},n.height&&{height:n.height});e&&e.sliding&&(e.sliding=!0),Ln?(t.css(o.extend(d(n.time),s)),n.time>10?x(t,"transform",a,n.time):a()):t.stop().animate(s,n.time,ee,a)}function et(t,n,e,i,a,s){var u="undefined"!=typeof s;if(u||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||o(t),n=n||o(n);var c=t[0],l=n[0],d="crossfade"===i.method,h=function(){if(!h.done){h.done=!0;var t=(u||a.shift())&&a.shift();t&&et.apply(this,t),(i.onEnd||r)(!!t)}},f=i.time/(s||1);e.removeClass(Bt+" "+Kt),t.stop().addClass(Bt),n.stop().addClass(Kt),d&&l&&t.fadeTo(0,0),t.fadeTo(d?f:0,1,d&&h),n.fadeTo(f,0,h),c&&d||l||h()}}function ot(t){var n=(t.touches||[])[0]||t;t._x=n.pageX||n.originalEvent.pageX,t._y=n.clientY||n.originalEvent.clientY,t._now=o.now()}function it(t,e){function i(t){return h=o(t.target),y.checked=v=p=w=!1,l||y.flow||t.touches&&t.touches.length>1||t.which>1||se&&se.type!==t.type&&ce||(v=e.select&&h.is(e.select,b))?v:(m="touchstart"===t.type,p=h.is("a, a *",b),f=y.control,g=y.noMove||y.noSwipe||f?16:y.snap?0:4,ot(t),d=se=t,ue=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(e.onStart||r).call(b,t,{control:f,$target:h}),l=y.flow=!0,void(m&&!y.go||G(t)))}function a(t){function n(t,n){return t>n&&t>1.5}if(t.touches&&t.touches.length>1||Wn&&!t.isPrimary||ue!==t.type||!l)return l&&s(),void(e.onTouchEnd||r)();ot(t);var o=Math.abs(t._x-d._x),i=Math.abs(t._y-d._y),a=o-i,u=(y.go||y.x||a>=0)&&!y.noSwipe,c=a<0;m&&!y.checked?(l=u)&&G(t):(G(t),n(o,i)&&(e.onMove||r).call(b,t,{touch:m})),!w&&n(o,i)&&Math.sqrt(Math.pow(o,2)+Math.pow(i,2))>g&&(w=!0),y.checked=y.checked||u||c}function s(t){(e.onTouchEnd||r)();var n=l;y.control=l=!1,n&&(y.flow=!1),!n||p&&!y.checked||(t&&G(t),ce=!0,clearTimeout(le),le=setTimeout(function(){ce=!1},1e3),(e.onEnd||r).call(b,{moved:w,$target:h,control:f,touch:m,startEvent:d,aborted:!t||"MSPointerCancel"===t.type}))}function u(){y.flow||(y.flow=!0)}function c(){y.flow&&(y.flow=!1)}var l,d,h,f,m,v,p,g,w,b=t[0],y={};Wn?(B(b,"MSPointerDown",i),B(n,"MSPointerMove",a),B(n,"MSPointerCancel",s),B(n,"MSPointerUp",s)):(B(b,"touchstart",i),B(b,"touchmove",a),B(b,"touchend",s),B(n,"touchstart",u),B(n,"touchend",c),B(n,"touchcancel",c),zn.on("scroll",c),t.on("mousedown pointerdown",i),qn.on("mousemove pointermove",a).on("mouseup pointerup",s));var x="ontouchstart"in n.documentElement;return de=x?"a":"div",t.on("click",de,function(t){y.checked&&G(t)}),y}function at(t,n){function e(e,o){T=!0,c=d="vertical"===x?e._y:e._x,p=e._now,v=[[p,c]],h=f=E.noMove||o?0:_(t,(n.getPos||r)()),(n.onStart||r).call(F,e)}function i(n,o){w=E.min,b=E.max,y=E.snap,x=E.direction||"horizontal",t.navdir=x,C=n.altKey,T=S=!1,P=o.control,P||M.sliding||e(n)}function a(o,i){E.noSwipe||(T||e(o),d="vertical"===x?o._y:o._x,v.push([o._now,d]),f=h-(c-d),m=N(f,w,b,x),f<=w?f=k(f,w):f>=b&&(f=k(f,b)),E.noMove||(t.css(l(f,x)),S||(S=!0,i.touch||Wn||t.addClass(cn)),(n.onMove||r).call(F,o,{pos:f,edge:m})))}function u(i){if(!E.noSwipe||!i.moved){T||e(i.startEvent,!0),i.touch||Wn||t.removeClass(cn),g=o.now();for(var a,u,c,l,m,p,_,k,P,S=g-Kn,M=null,$=Bn,j=n.friction,z=v.length-1;z>=0;z--){if(a=v[z][0],u=Math.abs(a-S),null===M||u<c)M=a,l=v[z][1];else if(M===S||u>c)break;c=u}_=s(f,w,b);var q=l-d,N=q>=0,A=g-M,I=A>Kn,L=!I&&f!==h&&_===f;y&&(_=s(Math[L?N?"floor":"ceil":"round"](f/y)*y,w,b),w=b=_),L&&(y||_===f)&&(P=-(q/A),$*=s(Math.abs(P),n.timeLow,n.timeHigh),m=Math.round(f+P*$/j),y||(_=m),(!N&&m>b||N&&m<w)&&(p=N?w:b,k=m-p,y||(_=p),k=s(_+.03*k,p-50,p+50),$=Math.abs((f-k)/(P/j)))),$*=C?10:1,(n.onEnd||r).call(F,o.extend(i,{moved:i.moved||I&&y,pos:f,newPos:_,overPos:k,time:$,dir:x}))}}var c,d,h,f,m,v,p,g,w,b,y,x,C,P,S,T,F=t[0],M=t.data(),E={};return E=o.extend(it(n.$wrap,o.extend({},n,{onStart:i,onMove:a,onEnd:u})),E)}function rt(t,n){var e,i,a,s=t[0],u={prevent:{}};return B(s,Hn,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(c)&&!Math.abs(s),d=tt(c<0),h=i===d,f=o.now(),m=f-a<Kn;i=d,a=f,l&&u.ok&&(!u.prevent[d]||e)&&(G(t,!0),e&&h&&m||(n.shift&&(e=!0,clearTimeout(u.t),u.t=setTimeout(function(){e=!1},Qn)),(n.onEnd||r)(t,n.shift?d:c)))}),u}function st(){o.each(o.Fotorama.instances,function(t,n){n.index=t})}function ut(t){o.Fotorama.instances.push(t),st()}function ct(t){o.Fotorama.instances.splice(t.index,1),st()}var lt="fotorama",dt="fotorama__fullscreen",ht=lt+"__wrap",ft=ht+"--css2",mt=ht+"--css3",vt=ht+"--video",pt=ht+"--fade",gt=ht+"--slide",wt=ht+"--no-controls",bt=ht+"--no-shadows",yt=ht+"--pan-y",xt=ht+"--rtl",_t=ht+"--no-captions",Ct=ht+"--toggle-arrows",kt=lt+"__stage",Pt=kt+"__frame",St=Pt+"--video",Tt=kt+"__shaft",Ft=lt+"__grab",Mt=lt+"__pointer",Et=lt+"__arr",$t=Et+"--disabled",jt=Et+"--prev",zt=Et+"--next",qt=lt+"__nav",Nt=qt+"-wrap",At=qt+"__shaft",It=Nt+"--vertical",Lt=Nt+"--list",Ot=Nt+"--horizontal",Dt=qt+"--dots",Rt=qt+"--thumbs",Wt=qt+"__frame",Ht=lt+"__fade",Kt=Ht+"-front",Bt=Ht+"-rear",Qt=lt+"__shadow",Vt=Qt+"s",Xt=Vt+"--left",Yt=Vt+"--right",Jt=Vt+"--top",Ut=Vt+"--bottom",Gt=lt+"__active",Zt=lt+"__select",tn=lt+"--hidden",nn=lt+"--fullscreen",en=lt+"__fullscreen-icon",on=lt+"__error",an=lt+"__loading",rn=lt+"__loaded",sn=rn+"--full",un=rn+"--img",cn=lt+"__grabbing",ln=lt+"__img",dn=ln+"--full",hn=lt+"__thumb",fn=hn+"__arr--left",mn=hn+"__arr--right",vn=hn+"-border",pn=lt+"__html",gn=lt+"-video-container",wn=lt+"__video",bn=wn+"-play",yn=wn+"-close",xn=lt+"_horizontal_ratio",_n=lt+"_vertical_ratio",Cn=lt+"__spinner",kn=Cn+"--show",Pn=o&&o.fn.jquery.split(".");if(!Pn||Pn[0]<1||1==Pn[0]&&Pn[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var Sn={},Tn={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},Fn="webkit moz o ms khtml".split(" ");if("undefined"!=typeof n.cancelFullScreen)Tn.ok=!0;else for(var Mn=0,En=Fn.length;Mn<En;Mn++)if(Tn.prefix=Fn[Mn],"undefined"!=typeof n[Tn.prefix+"CancelFullScreen"]){Tn.ok=!0;break}Tn.ok&&(Tn.event=Tn.prefix+"fullscreenchange",Tn.is=function(){switch(this.prefix){case"":return n.fullScreen;case"webkit":return n.webkitIsFullScreen;default:return n[this.prefix+"FullScreen"]}},Tn.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Tn.cancel=function(t){return""===this.prefix?n.cancelFullScreen():n[this.prefix+"CancelFullScreen"]()});var $n,jn,zn=o(t),qn=o(n),Nn=n.createElement("div"),An="quirks"===e.hash.replace("#",""),In=function(t,n){return t=Nn.style,n="erspective","p"+n in t||"WebkitP"+n in t||"MozP"+n in t||"OP"+n in t||"msP"+n in t}(),Ln=In&&!An,On=(In||"CSS1Compat"===n.compatMode,Tn.ok),Dn=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Rn=!Ln||Dn,Wn=navigator.msPointerEnabled,Hn="onwheel"in n.createElement("div")?"wheel":n.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Kn=250,Bn=300,Qn=1400,Vn=5e3,Xn=2,Yn=64,Jn=500,Un=333,Gn="$stageFrame",Zn="$navDotFrame",te="$navThumbFrame",ne="auto",ee=a([.1,0,.25,1]),oe=1200,ie=1,ae={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Xn,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Yn,thumbheight:Yn,thumbmargin:Xn,thumbborderwidth:Xn,allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Bn,captions:!0,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!1,trackpad:!1,shuffle:!1,direction:"ltr",shadows:!0,showcaption:!0,navdir:"horizontal",navarrows:!0,navtype:"thumbs"},re={left:!0,right:!0,down:!0,up:!0,space:!1,home:!1,end:!1};z.stop=function(t){z.ii[t]=!1};var se,ue,ce,le,de,he=function(){function t(t,n,e){var o=n/e;o<=1?(t.parent().removeClass(xn),t.parent().addClass(_n)):(t.parent().removeClass(_n),t.parent().addClass(xn))}function n(t,n,e){var a=e;t.attr(a)||t.attr(a)===i||t.attr(a,n),t.find("["+a+"]").length&&t.find("["+a+"]").each(function(){o(this).attr(a,n)})}function e(t,n,e){var o,i=!1;return o=t.showCaption===e||t.showCaption===!0,!!n&&(t.caption&&o&&(i=!0),i)}return{setRatio:t,setThumbAttr:n,isExpectedCaption:e}}(he||{},jQuery);jQuery.Fotorama=function(e,a){function r(){o.each(ze,function(t,n){if(!n.i){n.i=xo++;var e=T(n.video,!0);if(e){var o={};n.video=e,n.img||n.thumb?n.thumbsReady=!0:o=F(n,ze,go),M(ze,{img:o.img,thumb:o.thumb},n.i,go)}}})}function u(t){return ao[t]}function h(){if(So!==i)if("vertical"==a.navdir&&qe>1){var t=a.thumbwidth+a.thumbmargin;So.css("left",t),Po.find("."+Wt).css({marginBottom:a.thumbmargin+"px",marginRight:a.thumbmargin+"px",height:a.thumbheight+"px"}),zo.css("marginTop","")}else So.css("left",""),Po.find("."+Wt).css({marginBottom:"",marginRight:a.thumbmargin+"px",height:a.thumbheight+"px"}),zo.css("marginTop",a.thumbmargin+"px")}function m(t){var n,e="keydown."+lt,i=lt+wo,r="keydown."+i,s="keyup."+i,c="resize."+i+" orientationchange."+i;t?(qn.on(r,function(t){var e,i;Ae&&27===t.keyCode?(e=!0,xe(Ae,!0,!0)):(go.fullScreen||a.keyboard&&!go.index)&&(27===t.keyCode?(e=!0,go.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&u("space")||37===t.keyCode&&u("left")||38===t.keyCode&&u("up")&&o(":focus").attr("data-gallery-role")?(go.longPress.progress(),i="<"):32===t.keyCode&&u("space")||39===t.keyCode&&u("right")||40===t.keyCode&&u("down")&&o(":focus").attr("data-gallery-role")?(go.longPress.progress(),i=">"):36===t.keyCode&&u("home")?(go.longPress.progress(),i="<<"):35===t.keyCode&&u("end")&&(go.longPress.progress(),i=">>")),(e||i)&&G(t),n={index:i,slow:t.altKey,user:!0},i&&(go.longPress.inProgress?go.showWhileLongPress(n):go.show(n))}),t&&qn.on(s,function(t){go.longPress.inProgress&&go.showEndLongPress({user:!0}),go.longPress.reset()}),go.index||qn.off(e).on(e,"textarea, input, select",function(t){!jn.hasClass(dt)&&t.stopPropagation()}),zn.on(c,go.resize)):(qn.off(r),zn.off(c))}function b(t){t!==b.f&&(t?(e.addClass(lt+" "+bo).before(ko).before(Co),ut(go)):(ko.detach(),Co.detach(),e.html(_o.urtext).removeClass(bo),ct(go)),m(t),b.f=t)}function y(){ze=go.data=ze||R(a.data)||E(e),qe=go.size=ze.length,je.ok&&a.shuffle&&D(ze),r(),Qo=X(Qo),qe&&b(!0)}function x(){var t=qe<2||Ae;Yo.noMove=t||Ge,Yo.noSwipe=t||!a.swipe,!eo&&To.toggleClass(Ft,!a.click&&!Yo.noMove&&!Yo.noSwipe),Wn&&Po.toggleClass(yt,!Yo.noSwipe)}function k(t){t===!0&&(t=""),a.autoplay=Math.max(+t||Vn,1.5*no)}function P(t){t.navarrows&&"thumbs"===t.nav?(Lo.show(),Oo.show()):(Lo.hide(),Oo.hide())}function S(t,n){return Math.floor(Po.width()/(n.thumbwidth+n.thumbmargin))}function $(){function t(t,e){n[t?"add":"remove"].push(e)}a.nav&&"dots"!==a.nav||(a.navdir="horizontal"),go.options=a=H(a),ie=S(Po,a),Ge="crossfade"===a.transition||"dissolve"===a.transition,Qe=a.loop&&(qe>2||Ge&&(!eo||"slide"!==eo)),no=+a.transitionduration||Bn,io="rtl"===a.direction,ao=o.extend({},a.keyboard&&re,a.keyboard),P(a);var n={add:[],remove:[]};qe>1?(Ve=a.nav,Ye="top"===a.navposition,n.remove.push(Zt)):(Ve=!1,$o.hide()),An(),Dn(),In(),a.autoplay&&k(a.autoplay),Ze=f(a.thumbwidth)||Yn,to=f(a.thumbheight)||Yn,Jo.ok=Go.ok=a.trackpad&&!Rn,x(),ce(a,[Xo]),Xe="thumbs"===Ve,jo.filter(":hidden")&&Ve&&jo.show(),Xe?(_n(qe,"navThumb"),Ne=Ao,po=te,zo.addClass(Rt).removeClass(Dt)):"dots"===Ve?(_n(qe,"navDot"),Ne=No,po=Zn,zo.addClass(Dt).removeClass(Rt)):(jo.hide(),Ve=!1,zo.removeClass(Rt+" "+Dt)),Ve&&(Ye?jo.insertBefore(So):jo.insertAfter(So),Mn.nav=!1,Mn(Ne,qo,"nav")),Je=a.allowfullscreen,Je?(Do.prependTo(So),Ue=On&&"native"===Je,Z(Do,"touchend")):(Do.detach(),Ue=!1),t(Ge,pt),t(!Ge,gt),t(!a.captions,_t),t(io,xt),t(a.arrows,Ct),oo=a.shadows&&!Rn,t(!oo,bt),Po.addClass(n.add.join(" ")).removeClass(n.remove.join(" ")),Vo=o.extend({},a),h()}function B(t){return t<0?(qe+t%qe)%qe:t>=qe?t%qe:t}function X(t){return s(t,0,qe-1)}function ot(t){return Qe?B(t):X(t)}function it(t){return!!(t>0||Qe)&&t-1}function st(t){return!!(t<qe-1||Qe)&&t+1}function Ht(){Yo.min=Qe?-(1/0):-g(qe-1,Xo.w,a.margin,Oe),Yo.max=Qe?1/0:-g(0,Xo.w,a.margin,Oe),Yo.snap=Xo.w+a.margin}function Kt(){var t="vertical"===a.navdir,n=t?qo.height():qo.width(),e=t?Xo.h:Xo.nw;Uo.min=Math.min(0,e-n),Uo.max=0,Uo.direction=a.navdir,qo.toggleClass(Ft,!(Uo.noMove=Uo.min===Uo.max))}function Bt(t,n,e){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var a=ze[B(o)];if(a){var r="$"+n+"Frame",s=a[r];e.call(this,t,o,a,s,r,s&&s.data())}}})}function Qt(t,n,e,o){(!ro||"*"===ro&&o===Be)&&(t=p(a.width)||p(t)||Jn,n=p(a.height)||p(n)||Un,go.resize({width:t,ratio:a.ratio||e||t/n},0,o!==Be&&"*"))}function cn(t,n,e,i){Bt(t,n,function(t,r,s,u,c,l){function d(t){var n=B(r);le(t,{index:n,src:y,frame:ze[n]})}function h(){g.remove(),o.Fotorama.cache[y]="error",s.html&&"stage"===n||!x||x===y?(!y||s.html||v?"stage"===n&&(u.trigger("f:load").removeClass(an+" "+on).addClass(rn),d("load"),Qt()):(u.trigger("f:error").removeClass(an).addClass(on),d("error")),l.state="error",!(qe>1&&ze[r]===s)||s.html||s.deleted||s.video||v||(s.deleted=!0,go.splice(r,1))):(s[b]=y=x,l.$full=null,cn([r],n,e,!0))}function f(){o.Fotorama.measures[y]=w.measures=o.Fotorama.measures[y]||{width:p.width,height:p.height,ratio:p.width/p.height},Qt(w.measures.width,w.measures.height,w.measures.ratio,r),g.off("load error").addClass(""+(v?dn:ln)).attr("aria-hidden","false").prependTo(u),u.hasClass(Pt)&&!u.hasClass(gn)&&u.attr("href",g.attr("src")),q(g,(o.isFunction(e)?e():e)||Xo),o.Fotorama.cache[y]=l.state="loaded",setTimeout(function(){u.trigger("f:load").removeClass(an+" "+on).addClass(rn+" "+(v?sn:un)),"stage"===n?d("load"):(s.thumbratio===ne||!s.thumbratio&&a.thumbratio===ne)&&(s.thumbratio=w.measures.ratio,Ee())},0)}function m(){var t=10;z(function(){return!mo||!t--&&!Rn},function(){f()})}if(u){var v=go.fullScreen&&!l.$full&&"stage"===n;if(!l.$img||i||v){var p=new Image,g=o(p),w=g.data();l[v?"$full":"$img"]=g;var b="stage"===n?v?"full":"img":"thumb",y=s[b],x=v?s.img:s["stage"===n?"thumb":"img"];if("navThumb"===n&&(u=l.$wrap),!y)return void h();o.Fotorama.cache[y]?!function t(){"error"===o.Fotorama.cache[y]?h():"loaded"===o.Fotorama.cache[y]?setTimeout(m,0):setTimeout(t,100)}():(o.Fotorama.cache[y]="*",g.on("load",m).on("error",h)),l.state="",p.src=y,l.data.caption&&(p.alt=l.data.caption||""),l.data.full&&o(p).data("original",l.data.full),he.isExpectedCaption(s,a.showcaption)&&o(p).attr("aria-labelledby",s.labelledby)}}})}function hn(){var t=Ie[Gn];t&&!t.data().state&&(Bo.addClass(kn),t.on("f:load f:error",function(){t.off("f:load f:error"),Bo.removeClass(kn)}))}function xn(t){J(t,Te),U(t,function(){setTimeout(function(){W(zo)},0),Xn({time:no,guessIndex:o(this).data().eq,minMax:Uo})})}function _n(t,n){Bt(t,n,function(t,e,i,r,s,u){if(!r){r=i[s]=Po[s].clone(),u=r.data(),u.data=i;var c=r[0],l="labelledby"+o.now();"stage"===n?(i.html&&o('<div class="'+pn+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(r),i.id&&(l=i.id||l),i.labelledby=l,he.isExpectedCaption(i,a.showcaption)&&o(o.Fotorama.jst.frameCaption({caption:i.caption,labelledby:l})).appendTo(r),i.video&&r.addClass(St).append(Wo.clone()),U(c,function(){setTimeout(function(){W(So)},0),ke({index:u.eq,user:!0})}),Fo=Fo.add(r)):"navDot"===n?(xn(c),No=No.add(r)):"navThumb"===n&&(xn(c),u.$wrap=r.children(":first"),Ao=Ao.add(r),i.video&&u.$wrap.append(Wo.clone()))}})}function Pn(t,n){return t&&t.length&&q(t,n)}function Sn(t){Bt(t,"stage",function(t,n,e,i,r,s){if(i){var u=B(n);s.eq=u,ti[Gn][u]=i.css(o.extend({left:Ge?0:g(n,Xo.w,a.margin,Oe)},Ge&&d(0))),j(i[0])&&(To[0]!==i.parent()[0]&&i.appendTo(To),xe(e.$video)),Pn(s.$img,Xo),Pn(s.$full,Xo),!i.hasClass(Pt)||"false"===i.attr("aria-hidden")&&i.hasClass(Gt)||i.attr("aria-hidden","true")}})}function Fn(t,n){var e,i;"thumbs"!==Ve||isNaN(t)||(e=-t,i=-t+Xo.nw,"vertical"===a.navdir&&(t-=a.thumbheight,i=-t+Xo.h),Ao.each(function(){var t=o(this),r=t.data(),s=r.eq,u=function(){return{h:to,w:r.w}},c=u(),l="vertical"===a.navdir?r.t>i:r.l>i;c.w=r.w,r.l+r.w<e||l||Pn(r.$img,c)||n&&cn([s],"navThumb",u)}))}function Mn(t,n,e){if(!Mn[e]){var i="nav"===e&&Xe,r=0,s=0;n.append(t.filter(function(){for(var t,n=o(this),e=n.data(),i=0,a=ze.length;i<a;i++)if(e.data===ze[i]){t=!0,e.eq=i;break}return t||n.remove()&&!1}).sort(function(t,n){return o(t).data().eq-o(n).data().eq}).each(function(){var t=o(this),n=t.data();he.setThumbAttr(t,n.data.caption,"aria-label")}).each(function(){if(i){var t=o(this),n=t.data(),e=Math.round(to*n.data.thumbratio)||Ze,u=Math.round(Ze/n.data.thumbratio)||to;n.t=s,n.h=u,n.l=r,n.w=e,t.css({width:e}),s+=u+a.thumbmargin,r+=e+a.thumbmargin}})),Mn[e]=!0}}function En(t){return t-ni>Xo.w/3}function Nn(t){return!(Qe||Qo+t&&Qo-qe+t||Ae)}function An(){var t=Nn(0),n=Nn(1);Mo.toggleClass($t,t).attr(Y(t,!1)),Eo.toggleClass($t,n).attr(Y(n,!1))}function In(){var t=!1,n=!1;if("thumbs"!==a.navtype||a.loop||(t=0==Qo,n=Qo==a.data.length-1),"slides"===a.navtype){var e=c(qo,a.navdir);t=e>=Uo.max,n=e<=Uo.min}Lo.toggleClass($t,t).attr(Y(t,!0)),Oo.toggleClass($t,n).attr(Y(n,!0))}function Dn(){Jo.ok&&(Jo.prevent={"<":Nn(0),">":Nn(1)})}function Hn(t){var n,e,o,i,r=t.data();Xe?(n=r.l,e=r.t,o=r.w,i=r.h):(n=t.position().left,o=t.width());var s={c:n+o/2,min:-n+10*a.thumbmargin,max:-n+Xo.w-o-10*a.thumbmargin},u={c:e+i/2,min:-e+10*a.thumbmargin,max:-e+Xo.h-i-10*a.thumbmargin};return"vertical"===a.navdir?u:s}function Qn(t){var n=Ie[po].data();nt(Io,{time:1.2*t,pos:"vertical"===a.navdir?n.t:n.l,width:n.w,height:n.h,direction:a.navdir})}function Xn(t){var n,e,o,i,r,u,l,d,h=ze[t.guessIndex][po],f=a.navtype;h&&("thumbs"===f?(n=Uo.min!==Uo.max,o=t.minMax||n&&Hn(Ie[po]),i=n&&(t.keep&&Xn.t?Xn.l:s((t.coo||Xo.nw/2)-Hn(h).c,o.min,o.max)),r=n&&(t.keep&&Xn.l?Xn.l:s((t.coo||Xo.nw/2)-Hn(h).c,o.min,o.max)),u="vertical"===a.navdir?i:r,l=n&&s(u,Uo.min,Uo.max)||0,e=1.1*t.time,nt(qo,{time:e,pos:l,direction:a.navdir,onEnd:function(){Fn(l,!0),In()}}),ye(zo,N(l,Uo.min,Uo.max,a.navdir)),Xn.l=u):(d=c(qo,a.navdir),e=1.11*t.time,l=V(a,Uo,t.guessIndex,d,h,jo,a.navdir),nt(qo,{time:e,pos:l,direction:a.navdir,onEnd:function(){Fn(l,!0),In()}}),ye(zo,N(l,Uo.min,Uo.max,a.navdir))))}function ee(){ae(po),Zo[po].push(Ie[po].addClass(Gt).attr("data-active",!0))}function ae(t){for(var n=Zo[t];n.length;)n.shift().removeClass(Gt).attr("data-active",!1)}function se(t){var n=ti[t];o.each(Le,function(t,e){delete n[B(e)]}),o.each(n,function(t,e){delete n[t],e.detach()})}function ue(t){Oe=De=Qo;var n=Ie[Gn];n&&(ae(Gn),Zo[Gn].push(n.addClass(Gt).attr("data-active",!0)),n.hasClass(Pt)&&n.attr("aria-hidden","false"),t||go.showStage.onEnd(!0),_(To,0,!0),se(Gn),Sn(Le),Ht(),Kt(),J(To[0],function(){e.hasClass(nn)||(go.requestFullScreen(),Do.focus())}))}function ce(t,n){t&&o.each(n,function(n,e){e&&o.extend(e,{width:t.width||e.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:K(t.ratio)})})}function le(t,n){e.trigger(lt+":"+t,[go,n])}function de(){clearTimeout(fe.t),mo=1,a.stopautoplayontouch?go.stopAutoplay():lo=!0}function fe(){mo&&(a.stopautoplayontouch||(me(),ve()),fe.t=setTimeout(function(){mo=0},Bn+Kn))}function me(){lo=!(!Ae&&!ho)}function ve(){if(clearTimeout(ve.t),z.stop(ve.w),!a.autoplay||lo)return void(go.autoplay&&(go.autoplay=!1,le("stopautoplay")));go.autoplay||(go.autoplay=!0,le("startautoplay"));var t=Qo,n=Ie[Gn].data();ve.w=z(function(){return n.state||t!==Qo},function(){ve.t=setTimeout(function(){if(!lo&&t===Qo){var n=Ke,e=ze[n][Gn].data();ve.w=z(function(){return e.state||n!==Ke},function(){lo||n!==Ke||go.show(Qe?tt(!io):Ke)})}},a.autoplay)})}function pe(t){var n;return"object"!=typeof t?(n=t,t={}):n=t.index,n=">"===n?De+1:"<"===n?De-1:"<<"===n?0:">>"===n?qe-1:n,n=isNaN(n)?i:n,n="undefined"==typeof n?Qo||0:n}function ge(t){go.activeIndex=Qo=ot(t),We=it(Qo),He=st(Qo),Ke=B(Qo+(io?-1:1)),Le=[Qo,We,He],De=Qe?t:Qo}function we(t){var n=Math.abs(Re-De),e=C(t.time,function(){return Math.min(no*(1+(n-1)/12),2*no)});return t.slow&&(e*=10),e}function be(){go.fullScreen&&(go.fullScreen=!1,On&&Tn.cancel(yo),jn.removeClass(dt),$n.removeClass(dt),e.removeClass(nn).insertAfter(ko),Xo=o.extend({},fo),xe(Ae,!0,!0),Se("x",!1),go.resize(),cn(Le,"stage"),W(zn,uo,so),le("fullscreenexit"))}function ye(t,n){oo&&(t.removeClass(Xt+" "+Yt),t.removeClass(Jt+" "+Ut),n&&!Ae&&t.addClass(n.replace(/^|\s/g," "+Vt+"--")))}function xe(t,n,e){n&&(Po.removeClass(vt),Ae=!1,x()),t&&t!==Ae&&(t.remove(),le("unloadvideo")),e&&(me(),ve())}function _e(t){Po.toggleClass(wt,t)}function Ce(t){if(!Yo.flow){var n=t?t.pageX:Ce.x,e=n&&!Nn(En(n))&&a.click;Ce.p!==e&&So.toggleClass(Mt,e)&&(Ce.p=e,Ce.x=n)}}function ke(t){clearTimeout(ke.t),a.clicktransition&&a.clicktransition!==a.transition?setTimeout(function(){var n=a.transition;go.setOptions({transition:a.clicktransition}),eo=n,ke.t=setTimeout(function(){go.show(t)},10)},0):go.show(t)}function Pe(t,n){var i=t.target,a=o(i);a.hasClass(bn)?go.playVideo():i===Ro?go.toggleFullScreen():Ae?i===Ko&&xe(Ae,!0,!0):e.hasClass(nn)||go.requestFullScreen()}function Se(t,n){Yo[t]=Uo[t]=n}function Te(t){var n=o(this).data().eq;ke("thumbs"===a.navtype?{index:n,slow:t.altKey,user:!0,coo:t._x-zo.offset().left}:{index:n,slow:t.altKey,user:!0})}function Fe(t){ke({index:$o.index(this)?">":"<",slow:t.altKey,user:!0})}function Me(t){U(t,function(){setTimeout(function(){W(So)},0),_e(!1)})}function Ee(){if(y(),$(),!Ee.i){Ee.i=!0;var t=a.startindex;Qo=Oe=De=Re=Be=ot(t)||0}if(qe){if($e())return;Ae&&xe(Ae,!0),Le=[],se(Gn),Ee.ok=!0,go.show({index:Qo,time:0}),go.resize()}else go.destroy()}function $e(){if(!$e.f===io)return $e.f=io,Qo=qe-1-Qo,go.reverse(),!0}function je(){je.ok&&(je.ok=!1,le("ready"))}$n=o("html"),jn=o("body");var ze,qe,Ne,Ae,Ie,Le,Oe,De,Re,We,He,Ke,Be,Qe,Ve,Xe,Ye,Je,Ue,Ge,Ze,to,no,eo,oo,io,ao,ro,so,uo,co,lo,ho,fo,mo,vo,po,go=this,wo=o.now(),bo=lt+wo,yo=e[0],xo=1,_o=e.data(),Co=o("<style></style>"),ko=o(I(tn)),Po=e.find(L(ht)),So=Po.find(L(kt)),To=(So[0],e.find(L(Tt))),Fo=o(),Mo=e.find(L(jt)),Eo=e.find(L(zt)),$o=e.find(L(Et)),jo=e.find(L(Nt)),zo=jo.find(L(qt)),qo=zo.find(L(At)),No=o(),Ao=o(),Io=(To.data(),qo.data(),e.find(L(vn))),Lo=e.find(L(fn)),Oo=e.find(L(mn)),Do=e.find(L(en)),Ro=Do[0],Wo=o(I(bn)),Ho=e.find(L(yn)),Ko=Ho[0],Bo=e.find(L(Cn)),Qo=!1,Vo={},Xo={},Yo={},Jo={},Uo={},Go={},Zo={},ti={},ni=0,ei=[];Po[Gn]=o('<div class="'+Pt+'"></div>'),Po[te]=o(o.Fotorama.jst.thumb()),Po[Zn]=o(o.Fotorama.jst.dots()),Zo[Gn]=[],Zo[te]=[],Zo[Zn]=[],ti[Gn]={},Po.addClass(Ln?mt:ft),_o.fotorama=this,go.startAutoplay=function(t){return go.autoplay?this:(lo=ho=!1,k(t||a.autoplay),ve(),this)},go.stopAutoplay=function(){return go.autoplay&&(lo=ho=!0,ve()),this},go.showSlide=function(t){var n,e=c(qo,a.navdir),o=550,i="horizontal"===a.navdir?a.thumbwidth:a.thumbheight,r=function(){In()};"next"===t&&(n=e-(i+a.margin)*ie-a.margin),"prev"===t&&(n=e+(i+a.margin)*ie-a.margin),n=Q(n,Uo),Fn(n,!0),nt(qo,{time:o,pos:n,direction:a.navdir,onEnd:r})},go.showWhileLongPress=function(t){if(!go.longPress.singlePressInProgress){var n=pe(t);ge(n);var e=we(t)/50,o=Ie;go.activeFrame=Ie=ze[Qo];var i=o===Ie&&!t.user;return go.showNav(i,t,e),this}},go.showEndLongPress=function(t){if(!go.longPress.singlePressInProgress){var n=pe(t);ge(n);var e=we(t)/50,o=Ie;go.activeFrame=Ie=ze[Qo];var i=o===Ie&&!t.user;return go.showStage(i,t,e),co="undefined"!=typeof Re&&Re!==Qo,Re=Qo,this}},go.showStage=function(t,n,e){xe(Ae,Ie.i!==ze[B(Oe)].i),_n(Le,"stage"),Sn(Rn?[De]:[De,it(De),st(De)]),Se("go",!0),t||le("show",{user:n.user,time:e}),lo=!0;var o=n.overPos,i=go.showStage.onEnd=function(e){if(!i.ok){if(i.ok=!0,e||ue(!0),t||le("showend",{user:n.user}),!e&&eo&&eo!==a.transition)return go.setOptions({transition:eo}),void(eo=!1);hn(),cn(Le,"stage"),Se("go",!1),Dn(),Ce(),me(),ve(),go.fullScreen?(Ie[Gn].find("."+dn).attr("aria-hidden",!1),Ie[Gn].find("."+ln).attr("aria-hidden",!0)):(Ie[Gn].find("."+dn).attr("aria-hidden",!0),Ie[Gn].find("."+ln).attr("aria-hidden",!1))}};if(Ge){var r=Ie[Gn],s=ze[Re]&&Qo!==Re?ze[Re][Gn]:null;et(r,s,Fo,{time:e,method:a.transition,onEnd:i},ei)}else nt(To,{pos:-g(De,Xo.w,a.margin,Oe),overPos:o,time:e,onEnd:i});An()},go.showNav=function(t,n,e){if(In(),Ve){ee();var o=X(Qo+s(De-Re,-1,1));Xn({time:e,coo:o!==Qo&&n.coo,guessIndex:"undefined"!=typeof n.coo?o:Qo,keep:t}),Xe&&Qn(e)}},go.show=function(t){go.longPress.singlePressInProgress=!0;var n=pe(t);ge(n);var e=we(t),o=Ie;go.activeFrame=Ie=ze[Qo];var i=o===Ie&&!t.user;return go.showStage(i,t,e),go.showNav(i,t,e),co="undefined"!=typeof Re&&Re!==Qo,Re=Qo,go.longPress.singlePressInProgress=!1,this},go.requestFullScreen=function(){if(Je&&!go.fullScreen){var n=o((go.activeFrame||{}).$stageFrame||{}).hasClass("fotorama-video-container");if(n)return;so=zn.scrollTop(),uo=zn.scrollLeft(),W(zn),Se("x",!0),fo=o.extend({},Xo),e.addClass(nn).appendTo(jn.addClass(dt)),$n.addClass(dt),xe(Ae,!0,!0),go.fullScreen=!0,Ue&&Tn.request(yo),go.resize(),cn(Le,"stage"),hn(),
le("fullscreenenter"),"ontouchstart"in t||Do.focus()}return this},go.cancelFullScreen=function(){return Ue&&Tn.is()?Tn.cancel(n):be(),this},go.toggleFullScreen=function(){return go[(go.fullScreen?"cancel":"request")+"FullScreen"]()},go.resize=function(n){if(!ze)return this;var e=arguments[1]||0,i=arguments[2];ie=S(Po,a),ce(go.fullScreen?{width:o(t).width(),maxwidth:null,minwidth:null,height:o(t).height(),maxheight:null,minheight:null}:H(n),[Xo,i||go.fullScreen||a]);var r=Xo.width,u=Xo.height,c=Xo.ratio,l=zn.height()-(Ve?zo.height():0);if(p(r)&&(Po.css({width:""}),Po.css({height:""}),So.css({width:""}),So.css({height:""}),To.css({width:""}),To.css({height:""}),zo.css({width:""}),zo.css({height:""}),Po.css({minWidth:Xo.minwidth||0,maxWidth:Xo.maxwidth||oe}),"dots"===Ve&&jo.hide(),r=Xo.W=Xo.w=Po.width(),Xo.nw=Ve&&v(a.navwidth,r)||r,To.css({width:Xo.w,marginLeft:(Xo.W-Xo.w)/2}),u=v(u,l),u=u||c&&r/c)){if(r=Math.round(r),u=Xo.h=Math.round(s(u,v(Xo.minheight,l),v(Xo.maxheight,l))),"vertical"==a.navdir&&qe>1){var d=a.thumbwidth+a.thumbmargin,f=r-d,m=f*u/r;r=f,u=Xo.h=m,To.css({width:r})}if(So.css({width:r,height:u}),"vertical"!==a.navdir||go.fullscreen||zo.width(a.thumbwidth),"horizontal"!==a.navdir||go.fullscreen||zo.height(a.thumbheight),"dots"===Ve&&(zo.width(r).height("auto"),jo.show()),"vertical"===a.navdir&&go.fullScreen&&So.css("height",zn.height()),"horizontal"===a.navdir&&go.fullScreen&&So.css("height",zn.height()-zo.height()),Ve){switch(a.navdir){case"vertical":jo.removeClass(Ot),jo.removeClass(Lt),jo.addClass(It),zo.stop().animate({height:u,width:a.thumbwidth},e);break;case"list":jo.removeClass(It),jo.removeClass(Ot),jo.addClass(Lt);break;default:jo.removeClass(It),jo.removeClass(Lt),jo.addClass(Ot),zo.stop().animate({width:Xo.nw},e)}ue(),Xn({guessIndex:Qo,time:e,keep:!0}),Xe&&Mn.nav&&Qn(e)}ro=i||!0,je.ok=!0,je()}return ni=So.offset().left,h(),this},go.setOptions=function(t){return o.extend(a,t),Ee(),this},go.shuffle=function(){return ze&&D(ze)&&Ee(),this},go.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){this.inProgress||(this.count++,this.inProgress=this.count>this.threshold)},end:function(){this.inProgress&&(this.isEnded=!0)},reset:function(){this.count=0,this.inProgress=!1,this.isEnded=!1}},go.destroy=function(){return go.cancelFullScreen(),go.stopAutoplay(),ze=go.data=null,b(),Le=[],se(Gn),Ee.ok=!1,this},go.playVideo=function(){var t=Ie,n=t.video,e=Qo;return"object"==typeof n&&t.videoReady&&(Ue&&go.fullScreen&&go.cancelFullScreen(),z(function(){return!Tn.is()||e!==Qo},function(){e===Qo&&(t.$video=t.$video||o(I(wn)).append(O(n)),t.$video.appendTo(t[Gn]),Po.addClass(vt),Ae=t.$video,x(),$o.blur(),Do.blur(),le("loadvideo"))})),this},go.stopVideo=function(){return xe(Ae,!0,!0),this},go.spliceByIndex=function(t,n){n.i=t+1,n.img&&o.ajax({url:n.img,type:"HEAD",success:function(){ze.splice(t,1,n),Ee()}})},So.on("mousemove",Ce),Yo=at(To,{onStart:de,onMove:function(t,n){ye(So,n.edge)},onTouchEnd:fe,onEnd:function(t){var n;if(ye(So),n=(Wn&&!vo||t.touch)&&a.arrows,(t.moved||n&&t.pos!==t.newPos&&!t.control)&&t.$target[0]!==Do[0]){var e=w(t.newPos,Xo.w,a.margin,Oe);go.show({index:e,time:Ge?no:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||Pe(t.startEvent,n)},timeLow:1,timeHigh:1,friction:2,select:"."+Zt+", ."+Zt+" *",$wrap:So,direction:"horizontal"}),Uo=at(qo,{onStart:de,onMove:function(t,n){ye(zo,n.edge)},onTouchEnd:fe,onEnd:function(t){function n(){Xn.l=t.newPos,me(),ve(),Fn(t.newPos,!0),In()}if(t.moved)t.pos!==t.newPos?(lo=!0,nt(qo,{time:t.time,pos:t.newPos,overPos:t.overPos,direction:a.navdir,onEnd:n}),Fn(t.newPos),oo&&ye(zo,N(t.newPos,Uo.min,Uo.max,t.dir))):n();else{var e=t.$target.closest("."+Wt,qo)[0];e&&Te.call(e,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:zo,direction:a.navdir}),Jo=rt(So,{shift:!0,onEnd:function(t,n){de(),fe(),go.show({index:n,slow:t.altKey})}}),Go=rt(zo,{onEnd:function(t,n){de(),fe();var e=_(qo)+.25*n;qo.css(l(s(e,Uo.min,Uo.max),a.navdir)),oo&&ye(zo,N(e,Uo.min,Uo.max,a.navdir)),Go.prevent={"<":e>=Uo.max,">":e<=Uo.min},clearTimeout(Go.t),Go.t=setTimeout(function(){Xn.l=e,Fn(e,!0)},Kn),Fn(e)}}),Po.hover(function(){setTimeout(function(){mo||_e(!(vo=!0))},0)},function(){vo&&_e(!(vo=!1))}),A($o,function(t){G(t),Fe.call(this,t)},{onStart:function(){de(),Yo.control=!0},onTouchEnd:fe}),A(Lo,function(t){G(t),"thumbs"===a.navtype?go.show("<"):go.showSlide("prev")}),A(Oo,function(t){G(t),"thumbs"===a.navtype?go.show(">"):go.showSlide("next")}),$o.each(function(){J(this,function(t){Fe.call(this,t)}),Me(this)}),J(Ro,function(){e.hasClass(nn)?(go.cancelFullScreen(),To.focus()):(go.requestFullScreen(),Do.focus())}),Me(Ro),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,n){go[n]=function(){return ze=ze||[],"load"!==n?Array.prototype[n].apply(ze,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(ze=R(arguments[0])),Ee(),go}}),Ee()},o.fn.fotorama=function(n){return this.each(function(){var e=this,i=o(this),a=i.data(),r=a.fotorama;r?r.setOptions(n,!0):z(function(){return!$(e)},function(){a.urtext=i.html(),new o.Fotorama(i,o.extend({},ae,t.fotoramaDefaults,n,a))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},o=o||{},o.Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.dots=function(t){var n="";Sn.escape;return n+='<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>'},o.Fotorama.jst.frameCaption=function(t){var n,e="";Sn.escape;return e+='<div class="fotorama__caption" aria-hidden="true">\r\n    <div class="fotorama__caption__wrap" id="'+(null==(n=t.labelledby)?"":n)+'">'+(null==(n=t.caption)?"":n)+"</div>\r\n</div>\r\n"},o.Fotorama.jst.thumb=function(t){var n="";Sn.escape;return n+='<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>'}}(window,document,location,"undefined"!=typeof jQuery&&jQuery);